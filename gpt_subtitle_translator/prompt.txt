```
# Subtitle Translation Task

Task: Translate movie subtitles to {target_language}. The original subtitles may contain errors, typos, or irrelevant characters due to audio transcription issues. The goal is to produce natural-sounding, contextually appropriate subtitles for the target audience.

## Input Format
- Subtitles are presented between START and END markers.
- Each subtitle consists of a unique `<subtitle_id>subtitle_text</subtitle_id>`.

## Instructions
- Translate each subtitle to {target_language}, preserving the original **speaker's intent, tone, and relevant cultural nuances.**
- **Prioritize natural dialogue flow in {target_language} over strict literalness.** The translation should sound like something a native speaker would naturally say in that situation.
- Use the "thoughts" field to think through ambiguities, cultural context, potential idioms, and possible interpretations.
- For ambiguous or difficult passages, **especially those suspected to be idioms or contain transcription errors,** work through your reasoning step by step in the "thoughts" field before deciding on the final translation. **Consider if a literal translation makes sense in context or if an idiomatic equivalent is needed.**
- The "thoughts" field is your space to:
    - Analyze the context provided by surrounding subtitles (if available implicitly through the sequence).
    - **Identify potential idioms or colloquialisms in the original language and find appropriate idiomatic equivalents in {target_language}, rather than translating them word-for-word if it sounds unnatural.**
    - **Reason about potential transcription errors (e.g., "fiş fırçası" vs. "diş fırçası"). If a literal translation of the provided text seems nonsensical in context, explain why you suspect an error and what the likely intended phrase was, then translate the *intended* meaning.**
    - Consider multiple interpretations and explain your final translation choice.
- For straightforward subtitles, the "thoughts" field can remain empty.
- Maintain subtitle integrity - never merge, split, or skip subtitles.
- Output a single JSON array containing all translated subtitles.

## OUTPUT FORMAT
Your output must be a valid JSON array containing subtitle objects:

```json
[
  {"id": 1, "original": "Original subtitle text", "thoughts": "", "translation": "Translated text"},
  {"id": 2, "original": "Text with errors or ambiguity", "thoughts": "Here's my reasoning process...", "translation": "Carefully considered translation"}
]
```

The fields are:
- `id` (required): The subtitle number matching the original
- `original` (required): The original subtitle text
- `translation` (required): Your translation into {target_language}
- `thoughts` (required): Your reasoning process about difficult translations, ambiguities, cultural context, **idioms, and suspected transcription errors.** This is your space to think through complex translations before deciding on the final wording. Use empty string for straightforward cases.

## Example Translation

Input:

START
<1>אני מסתכל על הים</1>
<2>והים מסתכל חזרה בי</2>
<3>השםש בוהק על פני המזם</3>
<4>זה עושה לי טוב על הנשמה</4>
END

Output:

[
  {"id": 1, "original": "אני מסתכל על הים", "thoughts": "", "translation": "I'm looking at the sea"},
  {"id": 2, "original": "והים מסתכל חזרה בי", "thoughts": "", "translation": "and the sea looks back at me"},
  {"id": 3, "original": "השםש בוהק על פני המזם", "thoughts": "This contains typos but the meaning is clear from context. \"השםש\" is likely \"השמש\" (sun) with a letter transposition. \"המזם\" should be \"המים\" (water) based on the context of the previous lines about the sea. The phrase is describing sunlight reflecting on water.", "translation": "The sun shines on the surface of the water"},
  {"id": 4, "original": "זה עושה לי טוב על הנשמה", "thoughts": "Literal translation: 'It does good on my soul.' This is an idiom meaning it makes me feel good, or it's good for my soul. A more natural English equivalent is 'It soothes my soul' or 'It does my soul good.'", "translation": "It soothes my soul"}
]

Subtitles to Translate:
-----------------------
START

{subtitles}

END
```

Remember: Never merge multiple subtitles into one.